var app={audio:new Audio,isAudioPlaying:!1,init:function(o){app.config={items:$("#app li"),container:$("<div class='container'></div>"),urlBase:"/foo.php?item="},$.extend(app.config,o),app.setup()},setup:function(){console.log("hmcro v 3.0r4"),$("#js-error").hide(),$("#requirements").hide(),$("#map").hide(),$("#privacy").hide(),Modernizr.audio&&$("#audioSupported").hide(),Modernizr.geolocation&&$("#geolocationSupported").hide(),$('a[href="#requirements"]').click(function(){$("#welcome").hide(),$("#requirements").show(),app.playAudio("1_Welcome")}),app.audio.addEventListener("timeupdate",app.onAudioUpdate),app.audio.addEventListener("ended",app.onAudioStopped),app.audio.addEventListener("pause",app.onAudioStopped),app.audio.addEventListener("play",app.onAudioStarted)},playAudio:function(o){console.log("playAudio: "+o),app.audio.src="/audio/"+o+".mp3",app.audio.play()},onAudioUpdate:function(){var o=Math.floor(app.audio.currentTime),i=Math.floor(app.audio.duration),e=Math.floor(o/i*100);console.log(e,o,i)},onAudioStarted:function(){console.log("onAudioStarted"),console.log(this),app.isAudioPlaying=!0},onAudioStopped:function(){app.isAudioPlaying=!1,console.log("onAudioStopped")}};$(document).ready(app.init);